<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Conda使用指南（安装部署篇） | Jeason&#39;s Blog</title>
<meta name="keywords" content="software, conda">
<meta name="description" content="这里介绍了conda软件在安装和基本使用场景中的用法">
<meta name="author" content="作者:Jeason">
<link rel="canonical" href="http://localhost:1313/en/posts/tech/conda/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.e029fa55ed0a02bb684da89d2a53a4e1ba9e26e3719fa48460be52776460b523.css" integrity="sha256-4Cn6Ve0KArtoTaidKlOk4bqeJuNxn6SEYL5Sd2RgtSM=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/img/avatar.jpeg">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/img/avatar.jpeg">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/img/avatar.jpeg">
<link rel="apple-touch-icon" href="http://localhost:1313/img/avatar.jpeg">
<link rel="mask-icon" href="http://localhost:1313/img/avatar.jpeg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/en/posts/tech/conda/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><script type="text/javascript"
        async
        src="https://cdn.bootcss.com/mathjax/2.7.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\[\[','\]\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});

MathJax.Hub.Queue(function() {
    
    
    
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>

<style>
code.has-jax {
    font: inherit;
    font-size: 100%;
    background: inherit;
    border: inherit;
    color: #515151;
}
</style>


<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = ""; 
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<meta property="og:title" content="Conda使用指南（安装部署篇）" />
<meta property="og:description" content="这里介绍了conda软件在安装和基本使用场景中的用法" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/en/posts/tech/conda/" />
<meta property="og:image" content="https://source.unsplash.com/random/400x200?code" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-11-10T19:43:36+08:00" />
<meta property="article:modified_time" content="2024-02-28T19:43:36+08:00" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://source.unsplash.com/random/400x200?code" />
<meta name="twitter:title" content="Conda使用指南（安装部署篇）"/>
<meta name="twitter:description" content="这里介绍了conda软件在安装和基本使用场景中的用法"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "📚 文章",
      "item": "http://localhost:1313/en/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "👨🏻‍💻 技术",
      "item": "http://localhost:1313/en/posts/tech/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "Conda使用指南（安装部署篇）",
      "item": "http://localhost:1313/en/posts/tech/conda/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Conda使用指南（安装部署篇）",
  "name": "Conda使用指南（安装部署篇）",
  "description": "这里介绍了conda软件在安装和基本使用场景中的用法",
  "keywords": [
    "software", "conda"
  ],
  "articleBody": "关于 Conda Conda is an open source package management system and environment management system that runs on Windows, macOS and Linux. Conda quickly installs, runs and updates packages and their dependencies. Conda easily creates, saves, loads and switches between environments on your local computer. It was created for Python programs, but it can package and distribute software for any language.\n简单来说，Conda 就是专门用于管理 Python 包环境以及部署的工具。\nAnaconda、Conda 、Miniconda Anaconda是一个包含180+的科学包及其依赖项的发行版本。其包含的科学包包括：conda, numpy, scipy, ipython notebook等。 conda是包及其依赖项和环境的管理工具。适用多种语言（Python, R, Ruby, Lua等） Miniconda是一个最小安装版本的conda，只包含了少量的依赖和软件包 一般来说，三者并没有那么明显，只是在于依赖等信息的囊括问题\n安装 Conda 都可以下载安装包进行安装\nConda使用 查看版本 conda -V conda在安装时默认创建Base虚拟环境，并且自带了一系列包可以使用，可以使用conda list 查看当前环境中安装的包\nBase 虚拟环境:实际开发中，每个 Python 项目依赖的包都不同，Python 解释器版本也可能不同；每个Python 项目可能是你一人开发，也可能是多人开发；为了保证每个 Python 项目的环境（Python 解释器和项目依赖包）独立，互不干预，以及同一个Python 项目的所有人开发环境一致，Anaconda 可以为每一个项目单独配置Python 的开发和运行环境，也就是 Anaconda 中的虚拟环境（可以类比为仓库）\n创建 conda 虚拟环境 conda create -n test python=3.6 切换环境 conda activate test 退出和删除环境 退出当前环境回到默认的 Base\nconda deactivate test 删除环境\nconda remove -n env_name –-all 查看系统中的所有环境 conda info -e 环境安装包管理 安装指定环境的包 conda install -n \u003cenv_name\u003e \u003cpackage_name\u003e 当前环境安装包 conda install \u003cpackage_name\u003e 删除指定环境的包 conda remove -n 删除指定环境的包 conda remove \u003cpackage_name\u003e 更新当前环境的包 conda update \u003cpackage_name\u003e 更新当前环境所有包 conda update --all 更新conda conda update conda 环境复制和导出 环境复制 conda create --name new_env_name --clone copied_env_name 导出环境 conda env export \u003e environment.yaml 该命令会生成一个environment.yaml文件，包含了当前环境中的配置\n导入环境 conda env create -f environment.yaml 修改conda镜像源 conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/ conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/ conda config --set show_channel_urls yes 或者手动修改.condarc，可以使用conda config --set show_channel_urls yes 生成该文件之后再修改。\nchannels: - defaults show_channel_urls: true channel_alias: https://mirrors.tuna.tsinghua.edu.cn/anaconda default_channels: - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/pro - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/msys2 custom_channels: conda-forge: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud msys2: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud bioconda: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud menpo: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud pytorch: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud simpleitk: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud 修改pip镜像 临时使用pip pip install -i https://pypi.tuna.tsinghua.edu.cn/simple some-package 设为默认 pip install pip -U pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple conda自动激活环境 安装conda后在进入终端时可能会自动激活base环境，有以下解决方法：\n每次在命令行通过conda deactivate退出base环境回到系统自带的环境\n通过将auto_activate_base参数设置为false实现：\nconda config --set auto_activate_base false 也可以设置为ture取消更改\nconda安装一些软件 R\nconda install -c conda-forge r-base tidyverse包\nconda install r-tidyverse 注意，使用conda安装R包会存在版本的问题，因为conda的包版本不一定是最新的，所以最好还是进入R环境进行安装。\n",
  "wordCount" : "1137",
  "inLanguage": "en",
  "image":"https://source.unsplash.com/random/400x200?code","datePublished": "2020-11-10T19:43:36+08:00",
  "dateModified": "2024-02-28T19:43:36+08:00",
  "author":{
    "@type": "Person",
    "name": "Jeason"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/en/posts/tech/conda/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Jeason's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/img/avatar.jpeg"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/en/" accesskey="h" title="Jeason&#39;s Blog (Alt + H)">
                <img src="http://localhost:1313/img/avatar.jpeg" alt="" aria-label="logo"
                    height="35">Jeason&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                
            </div>
        </div>
        <ul id="menu">
            <li class="menu-item">
                <a href="http://localhost:1313/en/search" title="🔍 搜索 (Alt &#43; /)" accesskey=/>
                    <span>🔍 搜索</span>
                    
                </a>
            
            </li>
            <li class="menu-item">
                <a href="http://localhost:1313/en/" title="🏡 主页">
                    <span>🏡 主页</span>
                    
                </a>
            
            </li>
            <li class="menu-item">
                <a href="http://localhost:1313/en/posts" title="📚 文章">
                    <span>📚 文章</span>
                    
                </a>
            
            </li>
            <li class="menu-item">
                <a href="http://localhost:1313/en/archives" title="📈 归档">
                    <span>📈 归档</span>
                    
                </a>
            
            </li>
        </ul>
    </nav>
</header>
<main class="main page">
<article class="post-single">
    <div id="single-content">
        <header class="post-header">
            <div class="breadcrumbs"><a href="http://localhost:1313/en/">主页</a>&nbsp;»&nbsp;<a href="http://localhost:1313/en/posts/">📚 文章</a>&nbsp;»&nbsp;<a href="http://localhost:1313/en/posts/tech/">👨🏻‍💻 技术</a></div>
            <h1 class="post-title">
                Conda使用指南（安装部署篇）
            </h1>
            <div class="post-description">
                这里介绍了conda软件在安装和基本使用场景中的用法
            </div>
            <div class="post-meta">创建: 2020-11-10 | 更新: 2024-02-28 | 作者:Jeason




                
                <span id="busuanzi_container_page_pv">
                    &nbsp;|&nbsp;访问:&nbsp;<span id="busuanzi_value_page_pv"></span>
                </span>

</div>
        </header> <aside id="toc-container" class="toc-container wide">
    <div class="toc">
        <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">文章目录</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#%e5%85%b3%e4%ba%8e-conda" aria-label="关于 Conda">关于 Conda</a></li>
                <li>
                    <a href="#anacondaconda-miniconda" aria-label="Anaconda、Conda 、Miniconda">Anaconda、Conda 、Miniconda</a></li>
                <li>
                    <a href="#%e5%ae%89%e8%a3%85-conda" aria-label="安装 Conda">安装 Conda</a></li>
                <li>
                    <a href="#conda%e4%bd%bf%e7%94%a8" aria-label="Conda使用">Conda使用</a><ul>
                        
                <li>
                    <a href="#%e6%9f%a5%e7%9c%8b%e7%89%88%e6%9c%ac" aria-label="查看版本">查看版本</a></li>
                <li>
                    <a href="#%e5%88%9b%e5%bb%ba-conda-%e8%99%9a%e6%8b%9f%e7%8e%af%e5%a2%83" aria-label="创建 conda 虚拟环境">创建 conda 虚拟环境</a></li>
                <li>
                    <a href="#%e5%88%87%e6%8d%a2%e7%8e%af%e5%a2%83" aria-label="切换环境">切换环境</a></li>
                <li>
                    <a href="#%e9%80%80%e5%87%ba%e5%92%8c%e5%88%a0%e9%99%a4%e7%8e%af%e5%a2%83" aria-label="退出和删除环境">退出和删除环境</a></li>
                <li>
                    <a href="#%e6%9f%a5%e7%9c%8b%e7%b3%bb%e7%bb%9f%e4%b8%ad%e7%9a%84%e6%89%80%e6%9c%89%e7%8e%af%e5%a2%83" aria-label="查看系统中的所有环境">查看系统中的所有环境</a></li></ul>
                </li>
                <li>
                    <a href="#%e7%8e%af%e5%a2%83%e5%ae%89%e8%a3%85%e5%8c%85%e7%ae%a1%e7%90%86" aria-label="环境安装包管理">环境安装包管理</a><ul>
                        
                <li>
                    <a href="#%e5%ae%89%e8%a3%85%e6%8c%87%e5%ae%9a%e7%8e%af%e5%a2%83%e7%9a%84%e5%8c%85" aria-label="安装指定环境的包">安装指定环境的包</a></li>
                <li>
                    <a href="#%e5%bd%93%e5%89%8d%e7%8e%af%e5%a2%83%e5%ae%89%e8%a3%85%e5%8c%85" aria-label="当前环境安装包">当前环境安装包</a></li>
                <li>
                    <a href="#%e5%88%a0%e9%99%a4%e6%8c%87%e5%ae%9a%e7%8e%af%e5%a2%83%e7%9a%84%e5%8c%85" aria-label="删除指定环境的包">删除指定环境的包</a></li>
                <li>
                    <a href="#%e5%88%a0%e9%99%a4%e6%8c%87%e5%ae%9a%e7%8e%af%e5%a2%83%e7%9a%84%e5%8c%85-1" aria-label="删除指定环境的包">删除指定环境的包</a></li>
                <li>
                    <a href="#%e6%9b%b4%e6%96%b0%e5%bd%93%e5%89%8d%e7%8e%af%e5%a2%83%e7%9a%84%e5%8c%85" aria-label="更新当前环境的包">更新当前环境的包</a></li>
                <li>
                    <a href="#%e6%9b%b4%e6%96%b0%e5%bd%93%e5%89%8d%e7%8e%af%e5%a2%83%e6%89%80%e6%9c%89%e5%8c%85" aria-label="更新当前环境所有包">更新当前环境所有包</a></li>
                <li>
                    <a href="#%e6%9b%b4%e6%96%b0conda" aria-label="更新conda">更新conda</a></li></ul>
                </li>
                <li>
                    <a href="#%e7%8e%af%e5%a2%83%e5%a4%8d%e5%88%b6%e5%92%8c%e5%af%bc%e5%87%ba" aria-label="环境复制和导出">环境复制和导出</a><ul>
                        
                <li>
                    <a href="#%e7%8e%af%e5%a2%83%e5%a4%8d%e5%88%b6" aria-label="环境复制">环境复制</a></li>
                <li>
                    <a href="#%e5%af%bc%e5%87%ba%e7%8e%af%e5%a2%83" aria-label="导出环境">导出环境</a></li>
                <li>
                    <a href="#%e5%af%bc%e5%85%a5%e7%8e%af%e5%a2%83" aria-label="导入环境">导入环境</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%bf%ae%e6%94%b9conda%e9%95%9c%e5%83%8f%e6%ba%90" aria-label="修改conda镜像源">修改conda镜像源</a></li>
                <li>
                    <a href="#%e4%bf%ae%e6%94%b9pip%e9%95%9c%e5%83%8f" aria-label="修改pip镜像">修改pip镜像</a><ul>
                        
                <li>
                    <a href="#%e4%b8%b4%e6%97%b6%e4%bd%bf%e7%94%a8pip" aria-label="临时使用pip">临时使用pip</a></li>
                <li>
                    <a href="#%e8%ae%be%e4%b8%ba%e9%bb%98%e8%ae%a4" aria-label="设为默认">设为默认</a></li></ul>
                </li>
                <li>
                    <a href="#conda%e8%87%aa%e5%8a%a8%e6%bf%80%e6%b4%bb%e7%8e%af%e5%a2%83" aria-label="conda自动激活环境">conda自动激活环境</a></li>
                <li>
                    <a href="#conda%e5%ae%89%e8%a3%85%e4%b8%80%e4%ba%9b%e8%bd%af%e4%bb%b6" aria-label="conda安装一些软件">conda安装一些软件</a>
                </li>
            </ul>
        </div>
        </details>
    </div>
</aside>
<script>
    let activeElement;
    let elements;
    window.addEventListener('DOMContentLoaded', function (event) {
        checkTocPosition();

        elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
        
        activeElement = elements[0];
        const id = encodeURI(activeElement.getAttribute('id')).toLowerCase();
        document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
    }, false);

    window.addEventListener('resize', function(event) {
        checkTocPosition();
    }, false);

    window.addEventListener('scroll', () => {
        
        activeElement = Array.from(elements).find((element) => {
            if ((getOffsetTop(element) - window.pageYOffset) > 0 &&
                (getOffsetTop(element) - window.pageYOffset) < window.innerHeight/2) {
                return element;
            }
        }) || activeElement

        elements.forEach(element => {
            const id = encodeURI(element.getAttribute('id')).toLowerCase();
            if (element === activeElement){
                document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
            } else {
                document.querySelector(`.inner ul li a[href="#${id}"]`).classList.remove('active');
            }
        })
    }, false);

    const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10);
    const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
    const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);

    function checkTocPosition() {
        const width = document.body.scrollWidth;
        if (width - main - (toc * 2) - (gap * 4) > 0) {
            document.getElementById("toc-container").classList.add("wide");
        } else {
            document.getElementById("toc-container").classList.remove("wide");
        }
    }

    function getOffsetTop(element) {
        if (!element.getClientRects().length) {
            return 0;
        }
        let rect = element.getBoundingClientRect();
        let win = element.ownerDocument.defaultView;
        return rect.top + win.pageYOffset;
    }
</script>
        <div class="post-content"><h2 id="关于-conda">关于 Conda<a hidden class="anchor" aria-hidden="true" href="#关于-conda">#</a></h2>
<blockquote>
<p>Conda is an open source package management system and environment management system that runs on Windows, macOS and Linux. Conda quickly installs, runs and updates packages and their dependencies. Conda easily creates, saves, loads and switches between environments on your local computer. It was created for Python programs, but it can package and distribute software for any language.</p>
</blockquote>
<p>简单来说，Conda 就是专门用于管理 Python 包环境以及部署的工具。</p>
<h2 id="anacondaconda-miniconda">Anaconda、Conda 、Miniconda<a hidden class="anchor" aria-hidden="true" href="#anacondaconda-miniconda">#</a></h2>
<ul>
<li>Anaconda是一个包含180+的科学包及其依赖项的发行版本。其包含的科学包包括：conda, numpy, scipy, ipython notebook等。</li>
<li>conda是包及其依赖项和环境的管理工具。适用多种语言（Python, R, Ruby, Lua等）</li>
<li>Miniconda是一个最小安装版本的conda，只包含了少量的依赖和软件包</li>
</ul>
<blockquote>
<p>一般来说，三者并没有那么明显，只是在于依赖等信息的囊括问题</p>
</blockquote>
<h2 id="安装-conda">安装 Conda<a hidden class="anchor" aria-hidden="true" href="#安装-conda">#</a></h2>
<p>都可以下载安装包进行安装</p>
<h2 id="conda使用">Conda使用<a hidden class="anchor" aria-hidden="true" href="#conda使用">#</a></h2>
<h3 id="查看版本">查看版本<a hidden class="anchor" aria-hidden="true" href="#查看版本">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>conda <span style="color:#5bc4bf">-</span>V
</span></span></code></pre></div><p>conda在安装时默认创建Base虚拟环境，并且自带了一系列包可以使用，可以使用<code>conda list</code> 查看当前环境中安装的包</p>
<blockquote>
<p>Base 虚拟环境:实际开发中，每个 Python 项目依赖的包都不同，Python 解释器版本也可能不同；每个Python 项目可能是你一人开发，也可能是多人开发；为了保证每个 Python 项目的环境（Python 解释器和项目依赖包）独立，互不干预，以及同一个Python 项目的所有人开发环境一致，Anaconda 可以为每一个项目单独配置Python 的开发和运行环境，也就是 Anaconda 中的虚拟环境（可以类比为仓库）</p>
</blockquote>
<h3 id="创建-conda-虚拟环境">创建 conda 虚拟环境<a hidden class="anchor" aria-hidden="true" href="#创建-conda-虚拟环境">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>conda create <span style="color:#5bc4bf">-</span>n test python<span style="color:#5bc4bf">=</span><span style="color:#f99b15">3.6</span>
</span></span></code></pre></div><h3 id="切换环境">切换环境<a hidden class="anchor" aria-hidden="true" href="#切换环境">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>conda activate test
</span></span></code></pre></div><h3 id="退出和删除环境">退出和删除环境<a hidden class="anchor" aria-hidden="true" href="#退出和删除环境">#</a></h3>
<p>退出当前环境回到默认的 Base</p>
<div class="highlight"><pre tabindex="0" style="color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>conda deactivate test
</span></span></code></pre></div><p>删除环境</p>
<div class="highlight"><pre tabindex="0" style="color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>conda remove <span style="color:#5bc4bf">-</span>n env_name <span style="color:#ef6155">–</span><span style="color:#5bc4bf">-</span>all 
</span></span></code></pre></div><h3 id="查看系统中的所有环境">查看系统中的所有环境<a hidden class="anchor" aria-hidden="true" href="#查看系统中的所有环境">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>conda info <span style="color:#5bc4bf">-</span>e
</span></span></code></pre></div><h2 id="环境安装包管理">环境安装包管理<a hidden class="anchor" aria-hidden="true" href="#环境安装包管理">#</a></h2>
<h3 id="安装指定环境的包">安装指定环境的包<a hidden class="anchor" aria-hidden="true" href="#安装指定环境的包">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>conda install <span style="color:#5bc4bf">-</span>n <span style="color:#5bc4bf">&lt;</span>env_name<span style="color:#5bc4bf">&gt;</span> <span style="color:#5bc4bf">&lt;</span>package_name<span style="color:#5bc4bf">&gt;</span>
</span></span></code></pre></div><h3 id="当前环境安装包">当前环境安装包<a hidden class="anchor" aria-hidden="true" href="#当前环境安装包">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>conda install <span style="color:#5bc4bf">&lt;</span>package_name<span style="color:#5bc4bf">&gt;</span>
</span></span></code></pre></div><h3 id="删除指定环境的包">删除指定环境的包<a hidden class="anchor" aria-hidden="true" href="#删除指定环境的包">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>conda remove -n &lt;env_name&gt; &lt;package_name&gt;
</span></span></code></pre></div><h3 id="删除指定环境的包-1">删除指定环境的包<a hidden class="anchor" aria-hidden="true" href="#删除指定环境的包-1">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>conda remove <span style="color:#5bc4bf">&lt;</span>package_name<span style="color:#5bc4bf">&gt;</span>
</span></span></code></pre></div><h3 id="更新当前环境的包">更新当前环境的包<a hidden class="anchor" aria-hidden="true" href="#更新当前环境的包">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>conda update <span style="color:#5bc4bf">&lt;</span>package_name<span style="color:#5bc4bf">&gt;</span>
</span></span></code></pre></div><h3 id="更新当前环境所有包">更新当前环境所有包<a hidden class="anchor" aria-hidden="true" href="#更新当前环境所有包">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>conda update <span style="color:#5bc4bf">--</span>all
</span></span></code></pre></div><h3 id="更新conda">更新conda<a hidden class="anchor" aria-hidden="true" href="#更新conda">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>conda update conda
</span></span></code></pre></div><h2 id="环境复制和导出">环境复制和导出<a hidden class="anchor" aria-hidden="true" href="#环境复制和导出">#</a></h2>
<h3 id="环境复制">环境复制<a hidden class="anchor" aria-hidden="true" href="#环境复制">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>conda create <span style="color:#5bc4bf">--</span>name new_env_name <span style="color:#5bc4bf">--</span>clone copied_env_name
</span></span></code></pre></div><h3 id="导出环境">导出环境<a hidden class="anchor" aria-hidden="true" href="#导出环境">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>conda env export <span style="color:#5bc4bf">&gt;</span> environment<span style="color:#5bc4bf">.</span>yaml
</span></span></code></pre></div><p>该命令会生成一个<code>environment.yaml</code>文件，包含了当前环境中的配置</p>
<h3 id="导入环境">导入环境<a hidden class="anchor" aria-hidden="true" href="#导入环境">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>conda env create <span style="color:#5bc4bf">-</span>f environment<span style="color:#5bc4bf">.</span>yaml
</span></span></code></pre></div><h2 id="修改conda镜像源">修改conda镜像源<a hidden class="anchor" aria-hidden="true" href="#修改conda镜像源">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>conda config <span style="color:#5bc4bf">--</span>add channels https:<span style="color:#5bc4bf">//</span>mirrors<span style="color:#5bc4bf">.</span>tuna<span style="color:#5bc4bf">.</span>tsinghua<span style="color:#5bc4bf">.</span>edu<span style="color:#5bc4bf">.</span>cn<span style="color:#5bc4bf">/</span>anaconda<span style="color:#5bc4bf">/</span>pkgs<span style="color:#5bc4bf">/</span>free<span style="color:#5bc4bf">/</span> 
</span></span><span style="display:flex;"><span>conda config <span style="color:#5bc4bf">--</span>add channels https:<span style="color:#5bc4bf">//</span>mirrors<span style="color:#5bc4bf">.</span>tuna<span style="color:#5bc4bf">.</span>tsinghua<span style="color:#5bc4bf">.</span>edu<span style="color:#5bc4bf">.</span>cn<span style="color:#5bc4bf">/</span>anaconda<span style="color:#5bc4bf">/</span>pkgs<span style="color:#5bc4bf">/</span>main<span style="color:#5bc4bf">/</span> 
</span></span><span style="display:flex;"><span>conda config <span style="color:#5bc4bf">--</span>set show_channel_urls yes
</span></span></code></pre></div><p>或者手动修改<code>.condarc</code>，可以使用<code>conda config --set show_channel_urls yes</code> 生成该文件之后再修改。</p>
<div class="highlight"><pre tabindex="0" style="color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>channels:
</span></span><span style="display:flex;"><span>  <span style="color:#5bc4bf">-</span> defaults
</span></span><span style="display:flex;"><span>show_channel_urls: true
</span></span><span style="display:flex;"><span>channel_alias: https:<span style="color:#5bc4bf">//</span>mirrors<span style="color:#5bc4bf">.</span>tuna<span style="color:#5bc4bf">.</span>tsinghua<span style="color:#5bc4bf">.</span>edu<span style="color:#5bc4bf">.</span>cn<span style="color:#5bc4bf">/</span>anaconda
</span></span><span style="display:flex;"><span>default_channels:
</span></span><span style="display:flex;"><span>  <span style="color:#5bc4bf">-</span> https:<span style="color:#5bc4bf">//</span>mirrors<span style="color:#5bc4bf">.</span>tuna<span style="color:#5bc4bf">.</span>tsinghua<span style="color:#5bc4bf">.</span>edu<span style="color:#5bc4bf">.</span>cn<span style="color:#5bc4bf">/</span>anaconda<span style="color:#5bc4bf">/</span>pkgs<span style="color:#5bc4bf">/</span>main
</span></span><span style="display:flex;"><span>  <span style="color:#5bc4bf">-</span> https:<span style="color:#5bc4bf">//</span>mirrors<span style="color:#5bc4bf">.</span>tuna<span style="color:#5bc4bf">.</span>tsinghua<span style="color:#5bc4bf">.</span>edu<span style="color:#5bc4bf">.</span>cn<span style="color:#5bc4bf">/</span>anaconda<span style="color:#5bc4bf">/</span>pkgs<span style="color:#5bc4bf">/</span>free
</span></span><span style="display:flex;"><span>  <span style="color:#5bc4bf">-</span> https:<span style="color:#5bc4bf">//</span>mirrors<span style="color:#5bc4bf">.</span>tuna<span style="color:#5bc4bf">.</span>tsinghua<span style="color:#5bc4bf">.</span>edu<span style="color:#5bc4bf">.</span>cn<span style="color:#5bc4bf">/</span>anaconda<span style="color:#5bc4bf">/</span>pkgs<span style="color:#5bc4bf">/</span>r
</span></span><span style="display:flex;"><span>  <span style="color:#5bc4bf">-</span> https:<span style="color:#5bc4bf">//</span>mirrors<span style="color:#5bc4bf">.</span>tuna<span style="color:#5bc4bf">.</span>tsinghua<span style="color:#5bc4bf">.</span>edu<span style="color:#5bc4bf">.</span>cn<span style="color:#5bc4bf">/</span>anaconda<span style="color:#5bc4bf">/</span>pkgs<span style="color:#5bc4bf">/</span>pro
</span></span><span style="display:flex;"><span>  <span style="color:#5bc4bf">-</span> https:<span style="color:#5bc4bf">//</span>mirrors<span style="color:#5bc4bf">.</span>tuna<span style="color:#5bc4bf">.</span>tsinghua<span style="color:#5bc4bf">.</span>edu<span style="color:#5bc4bf">.</span>cn<span style="color:#5bc4bf">/</span>anaconda<span style="color:#5bc4bf">/</span>pkgs<span style="color:#5bc4bf">/</span>msys2
</span></span><span style="display:flex;"><span>custom_channels:
</span></span><span style="display:flex;"><span>  conda<span style="color:#5bc4bf">-</span>forge: https:<span style="color:#5bc4bf">//</span>mirrors<span style="color:#5bc4bf">.</span>tuna<span style="color:#5bc4bf">.</span>tsinghua<span style="color:#5bc4bf">.</span>edu<span style="color:#5bc4bf">.</span>cn<span style="color:#5bc4bf">/</span>anaconda<span style="color:#5bc4bf">/</span>cloud
</span></span><span style="display:flex;"><span>  msys2: https:<span style="color:#5bc4bf">//</span>mirrors<span style="color:#5bc4bf">.</span>tuna<span style="color:#5bc4bf">.</span>tsinghua<span style="color:#5bc4bf">.</span>edu<span style="color:#5bc4bf">.</span>cn<span style="color:#5bc4bf">/</span>anaconda<span style="color:#5bc4bf">/</span>cloud
</span></span><span style="display:flex;"><span>  bioconda: https:<span style="color:#5bc4bf">//</span>mirrors<span style="color:#5bc4bf">.</span>tuna<span style="color:#5bc4bf">.</span>tsinghua<span style="color:#5bc4bf">.</span>edu<span style="color:#5bc4bf">.</span>cn<span style="color:#5bc4bf">/</span>anaconda<span style="color:#5bc4bf">/</span>cloud
</span></span><span style="display:flex;"><span>  menpo: https:<span style="color:#5bc4bf">//</span>mirrors<span style="color:#5bc4bf">.</span>tuna<span style="color:#5bc4bf">.</span>tsinghua<span style="color:#5bc4bf">.</span>edu<span style="color:#5bc4bf">.</span>cn<span style="color:#5bc4bf">/</span>anaconda<span style="color:#5bc4bf">/</span>cloud
</span></span><span style="display:flex;"><span>  pytorch: https:<span style="color:#5bc4bf">//</span>mirrors<span style="color:#5bc4bf">.</span>tuna<span style="color:#5bc4bf">.</span>tsinghua<span style="color:#5bc4bf">.</span>edu<span style="color:#5bc4bf">.</span>cn<span style="color:#5bc4bf">/</span>anaconda<span style="color:#5bc4bf">/</span>cloud
</span></span><span style="display:flex;"><span>  simpleitk: https:<span style="color:#5bc4bf">//</span>mirrors<span style="color:#5bc4bf">.</span>tuna<span style="color:#5bc4bf">.</span>tsinghua<span style="color:#5bc4bf">.</span>edu<span style="color:#5bc4bf">.</span>cn<span style="color:#5bc4bf">/</span>anaconda<span style="color:#5bc4bf">/</span>cloud
</span></span></code></pre></div><h2 id="修改pip镜像">修改pip镜像<a hidden class="anchor" aria-hidden="true" href="#修改pip镜像">#</a></h2>
<h3 id="临时使用pip">临时使用pip<a hidden class="anchor" aria-hidden="true" href="#临时使用pip">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>pip install <span style="color:#5bc4bf">-</span>i https:<span style="color:#5bc4bf">//</span>pypi<span style="color:#5bc4bf">.</span>tuna<span style="color:#5bc4bf">.</span>tsinghua<span style="color:#5bc4bf">.</span>edu<span style="color:#5bc4bf">.</span>cn<span style="color:#5bc4bf">/</span>simple some<span style="color:#5bc4bf">-</span>package
</span></span></code></pre></div><h3 id="设为默认">设为默认<a hidden class="anchor" aria-hidden="true" href="#设为默认">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>pip install pip <span style="color:#5bc4bf">-</span>U
</span></span><span style="display:flex;"><span>pip config set <span style="color:#815ba4">global</span><span style="color:#5bc4bf">.</span>index<span style="color:#5bc4bf">-</span>url https:<span style="color:#5bc4bf">//</span>pypi<span style="color:#5bc4bf">.</span>tuna<span style="color:#5bc4bf">.</span>tsinghua<span style="color:#5bc4bf">.</span>edu<span style="color:#5bc4bf">.</span>cn<span style="color:#5bc4bf">/</span>simple
</span></span></code></pre></div><h2 id="conda自动激活环境">conda自动激活环境<a hidden class="anchor" aria-hidden="true" href="#conda自动激活环境">#</a></h2>
<p>安装conda后在进入终端时可能会自动激活base环境，有以下解决方法：</p>
<ul>
<li>
<p>每次在命令行通过<code>conda deactivate</code>退出base环境回到系统自带的环境</p>
</li>
<li>
<p>通过将<code>auto_activate_base</code>参数设置为<code>false</code>实现：</p>
<div class="highlight"><pre tabindex="0" style="color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>conda config <span style="color:#5bc4bf">--</span>set auto_activate_base false
</span></span></code></pre></div><p>也可以设置为<code>ture</code>取消更改</p>
</li>
</ul>
<h2 id="conda安装一些软件">conda安装一些软件<a hidden class="anchor" aria-hidden="true" href="#conda安装一些软件">#</a></h2>
<ul>
<li>
<p>R</p>
<div class="highlight"><pre tabindex="0" style="color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>conda install -c conda-forge r-base
</span></span></code></pre></div></li>
<li>
<p>tidyverse包</p>
<div class="highlight"><pre tabindex="0" style="color:#e7e9db;background-color:#2f1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>conda install r-tidyverse
</span></span></code></pre></div><blockquote>
<p>注意，使用conda安装R包会存在版本的问题，因为conda的包版本不一定是最新的，所以最好还是进入R环境进行安装。</p>
</blockquote>
</li>
</ul>


        </div>

        

        <footer class="post-footer">
            
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/en/posts/tech/timeroc/">
    <span class="title">« 上一页</span>
    <br>
    <span>Time-dependent ROC 曲线</span>
  </a>
  <a class="next" href="http://localhost:1313/en/posts/tech/aspera/">
    <span class="title">下一页 »</span>
    <br>
    <span>Aspera的安装与使用</span>
  </a>
</nav>

        </footer>
    </div>



<div>
    <div class="pagination__title">
        <span class="pagination__title-h" style="font-size: 20px;">💬评论</span>
        <hr />
    </div>

    <div id="tcomment"></div>

    <script src="https://cdn.staticfile.org/twikoo/1.6.15/twikoo.all.min.js">
    </script>
    

    

    <script>
        twikoo.init({
            envId: "https://twikoo.lvbibir.cn/", 
            el: "#tcomment",
            lang: 'zh-CN',
            
            path: window.TWIKOO_MAGIC_PATH||window.location.pathname,
            
            
            
            
            
            
            
        });
    </script>

</div>
</article>
</main>


<footer class="footer">

    <a href="https://gohugo.io/" target="_blank">
        
        <img style="display: unset;" src="https://image.lvbibir.cn/blog/frame-hugo-blue.svg">
    </a>
    <a href="https://github.com/adityatelange/hugo-PaperMod" target="_blank">
        
        <img style="display: unset;" src="https://image.lvbibir.cn/blog/theme-papermod-lightgrey.svg">
    </a>

    <br>

    <span id="runtime_span"></span>
    <script
        type="text/javascript">function show_runtime() { window.setTimeout("show_runtime()", 1000); X = new Date("7/13/2021 1:00:00"); Y = new Date(); T = (Y.getTime() - X.getTime()); M = 24 * 60 * 60 * 1000; a = T / M; A = Math.floor(a); b = (a - A) * 24; B = Math.floor(b); c = (b - B) * 60; C = Math.floor((b - B) * 60); D = Math.floor((c - C) * 60); runtime_span.innerHTML = "网站已运行" + A + "天" + B + "小时"} show_runtime();</script>
    |
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span id="busuanzi_container">
        
        总访客数:  <span id="busuanzi_value_site_uv"></span>
        |
        总访问量:  <span id="busuanzi_value_site_pv"></span>
    </span>

    <br>
    <span>
        Copyright
        &copy;
        2021-2024
        <a href="http://localhost:1313/en/" style="border-bottom:1px solid">Jeason&#39;s Blog</a>
    </span>

    
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <span class="topInner">
        <svg class="topSvg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
            <path d="M12 6H0l6-6z" />
        </svg>
        <span id="read_progress"></span>
    </span>
</a>

<script>
    document.addEventListener('scroll', function (e) {
        const readProgress = document.getElementById("read_progress");
        const scrollHeight = document.documentElement.scrollHeight;
        const clientHeight = document.documentElement.clientHeight;
        const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
        
        readProgress.innerText = ((scrollTop / (scrollHeight - clientHeight)).toFixed(2) * 100).toFixed(0);
    })
</script>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    let mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 400 || document.documentElement.scrollTop > 400) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };
</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>


<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = '📄复制';

        function copyingDone() {
            copybutton.innerText = '👌🏻已复制!';
            setTimeout(() => {
                copybutton.innerText = '📄复制';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            
            
            
            
            
            
            
            
            
            
            
            
            
            

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) {
            }
            ;
            selection.removeRange(range);
        });

        let language = codeblock.className.replaceAll("language-", "")
        let macTool = document.createElement("div")
        let macTool1 = document.createElement("div")
        let macTool2 = document.createElement("div")
        let macTool3 = document.createElement("div")
        let languageType = document.createElement("div")
        languageType.innerText = language
        macTool.setAttribute('class', 'mac-tool')
        macTool1.setAttribute('class', 'mac bb1')
        macTool2.setAttribute('class', 'mac bb2')
        macTool3.setAttribute('class', 'mac bb3')
        languageType.setAttribute('class', 'language-type')
        macTool.appendChild(macTool1)
        macTool.appendChild(macTool2)
        macTool.appendChild(macTool3)
        macTool.appendChild(languageType)

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
            container.appendChild(macTool)
        } else if (container.parentNode.firstChild === container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName === "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
            container.appendChild(macTool)
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
            container.appendChild(macTool)
        }
    });
</script>

</body>

</html>
